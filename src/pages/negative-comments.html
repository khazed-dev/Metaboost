<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω Comment Ti√™u c·ª±c</title>
    <link rel="icon" type="image/png" href="../assets/img/fav.png" />
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="../assets/css/negative-comments.css">
</head>

<body>
    <app-sidebar></app-sidebar>

    <main class="main-content">
        <section class="negative-comments-section">
            <!-- Header -->
            <div class="section-header">
                <div class="header-title">
                    <h1>‚ö†Ô∏è Qu·∫£n l√Ω Comment Ti√™u c·ª±c</h1>
                    <p>Theo d√µi v√† x·ª≠ l√Ω c√°c b√¨nh lu·∫≠n ti√™u c·ª±c t·ª´ kh√°ch h√†ng</p>
                </div>
                <div class="header-stats">
                    <div class="stat-card critical">
                        <span class="stat-label">Nghi√™m tr·ªçng</span>
                        <span class="stat-count" id="criticalCount">0</span>
                    </div>
                    <div class="stat-card high">
                        <span class="stat-label">Cao</span>
                        <span class="stat-count" id="highCount">0</span>
                    </div>
                    <div class="stat-card medium">
                        <span class="stat-label">Trung b√¨nh</span>
                        <span class="stat-count" id="mediumCount">0</span>
                    </div>
                </div>
            </div>

            <!-- Filters -->
            <div class="filters-bar">
                <div class="filter-group">
                    <input type="text" id="searchInput" class="search-input" placeholder="üîç T√¨m ki·∫øm theo t√™n, n·ªôi dung...">
                </div>
                <div class="filter-group">
                    <select id="severityFilter" class="filter-select">
                        <option value="">T·∫•t c·∫£ m·ª©c ƒë·ªô</option>
                        <option value="critical">üî¥ Nghi√™m tr·ªçng</option>
                        <option value="high">üü† Cao</option>
                        <option value="medium">üü° Trung b√¨nh</option>
                    </select>
                </div>
                <div class="filter-group">
                    <select id="intentFilter" class="filter-select">
                        <option value="">T·∫•t c·∫£ √Ω ƒë·ªãnh</option>
                        <option value="complaint">Ph√†n n√†n</option>
                        <option value="question">C√¢u h·ªèi</option>
                        <option value="suggestion">ƒê·ªÅ xu·∫•t</option>
                        <option value="other">Kh√°c</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button id="refreshBtn" class="btn-refresh" title="L√†m m·ªõi d·ªØ li·ªáu">üîÑ</button>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="loading-state">
                <div class="spinner"></div>
                <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
            </div>

            <!-- Table Container -->
            <div class="table-container" id="tableContainer" style="display: none;">
                <table class="negative-comments-table">
                    <thead>
                        <tr>
                            <th class="col-name">T√™n ng∆∞·ªùi d√πng</th>
                            <th class="col-message">N·ªôi dung Comment</th>
                            <th class="col-reply">Ph·∫£n h·ªìi Bot</th>
                            <th class="col-sentiment">Sentiment</th>
                            <th class="col-severity">M·ª©c ƒë·ªô</th>
                            <th class="col-intent">√ù ƒë·ªãnh</th>
                            <th class="col-post">B√†i vi·∫øt</th>
                            <th class="col-action">H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Comments will be inserted here -->
                    </tbody>
                </table>
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-state" style="display: none;">
                <div class="empty-icon">üì≠</div>
                <h3>Kh√¥ng c√≥ d·ªØ li·ªáu</h3>
                <p>Kh√¥ng t√¨m th·∫•y comment ti√™u c·ª±c. T·∫•t c·∫£ ƒëang t·ªët!</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="error-state" style="display: none;">
                <div class="error-icon">‚ùå</div>
                <h3>C√≥ l·ªói x·∫£y ra</h3>
                <p id="errorMessage">Vui l√≤ng th·ª≠ l·∫°i sau</p>
                <button id="retryBtn" class="btn-retry">Th·ª≠ l·∫°i</button>
            </div>
        </section>
    </main>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>X√°c nh·∫≠n x√≥a</h2>
                <button class="modal-close" aria-label="Close">‚úï</button>
            </div>
            <div class="modal-body">
                <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a comment n√†y? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.</p>
                <div class="comment-preview">
                    <p><strong>Comment:</strong> <span id="previewMessage"></span></p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelDeleteBtn" class="btn btn-secondary">H·ªßy</button>
                <button id="confirmDeleteBtn" class="btn btn-danger">X√≥a</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast" style="display: none;"></div>

    <!-- Web Component & Scripts -->
    <script src="../assets/js/sidebar.component.js" type="module"></script>
    <script src="../assets/js/negative-comments.js" type="module"></script>
</body>

</html>

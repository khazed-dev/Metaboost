<button class="menu-toggle" id="menuToggle">â˜°</button>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <img src="../assets/img/logo.png" alt="Logo" class="sidebar-logo" />
  </div>

  <div class="sidebar-menu">
    <ul>
      <li id="nav-overview"><a href="index.html"><span>ğŸ </span> Tá»•ng quan</a></li>
      <li id="nav-form"><a href="form.html"><span>ğŸ§¾</span> ThÃªm bÃ i Ä‘Äƒng</a></li>
      <li id="nav-posts"><a href="posts.html"><span>ğŸ“‹</span> Danh sÃ¡ch bÃ i Ä‘Äƒng</a></li>
      <li id="nav-logs"><a href="logs.html"><span>âš ï¸</span> Log lá»—i</a></li>
      <li id="nav-api"><a href="api.html"><span>ğŸ§ </span> API</a></li>
    </ul>
  </div>

  <button id="logoutBtn">ÄÄƒng xuáº¥t</button>
</aside>

<script>
  // Auto highlight current nav item and handle smooth transitions
  (function() {
    // Set sidebar as loaded - MUST be first!
    document.documentElement.setAttribute('data-sidebar-loaded', 'true');
    
    const path = window.location.pathname;
    const filename = path.split('/').pop() || 'index.html';
    
    const navMap = {
      'index.html': 'nav-overview',
      'form.html': 'nav-form',
      'posts.html': 'nav-posts',
      'logs.html': 'nav-logs',
      'api.html': 'nav-api'
    };
    
    const activeNav = navMap[filename];
    if (activeNav) {
      document.querySelectorAll('.sidebar-menu li').forEach(li => {
        li.classList.remove('active');
      });
      const activeItem = document.getElementById(activeNav);
      if (activeItem) {
        activeItem.classList.add('active');
      }
    }

    // Smooth transition on link click
    document.querySelectorAll('.sidebar-menu a').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const href = link.getAttribute('href');
        
        // Fade out
        document.body.style.opacity = '0';
        document.documentElement.setAttribute('data-sidebar-loaded', 'false');
        
        // Navigate
        setTimeout(() => {
          window.location.href = href;
        }, 150);
      });
    });
  })();
</script>
